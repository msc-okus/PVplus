{% import _self as formMacros %}

{% macro addAccess(eigner) %}
    <td>{{ form_widget(eigner.eigner) }}</td>
    <td></td>
{% endmacro %}

{{ form_start(userForm, {'attr': {'novalidate': 'no', 'autocomplete': 'off'}}) }}
<div class="grid-x grid-margin-x grid-padding-x">
    <div class="cell small-6 medium-3">
        <fieldset class="fieldset">
            <legend>User
                <span data-tooltip tabindex="1" title="Please enter the user data !"><i class="fa fa-info-circle"></i></span>
            </legend>
        {{ form_row(userForm.username) }}
        {{ form_row(userForm.plainPassword) }}
        {{ form_row(userForm.email) }}
        {#  {{ form_row(userForm.level) }}#}
        </fieldset>
    </div>

    <div class="cell small-6 medium-3">
        <fieldset class="fieldset">
            <legend>List with Roles
                <span data-tooltip tabindex="1" title="Please assign roles rights for this User !"><i class="fa fa-info-circle"></i></span>
            </legend>
             {{ form_widget(userForm.roles) }}
        </fieldset>
    </div>

    <div class="cell small-6 medium-3">
        <fieldset class="fieldset">
            <legend>List with Plants
                <span data-tooltip tabindex="1" title="Please assign a plant for this User !"><i class="fa fa-info-circle"></i></span>
            </legend>
            {{ form_widget(userForm.eignersPlantList) }}
            {#
            <div id="user_form_eignersPlantList">
                {% for key, item in userForm.eignersPlantList %}
                    <label>{{item.vars.label}}</label>
                    <div class="switch tiny checkbox">
                        <input
                                type="checkbox"
                                value="{{item.vars.value}}"
                                id="{{item.vars.id}}"
                                class="switch-input"
                                name="{{item.vars.full_name}}"
                                aria-describedby="{{item.vars.id}}"
                                {{ item.vars.checked ? 'checked="checked"' : '' }}
                        >
                        <label class="switch-paddle" for="{{item.vars.id}}" id="{{item.vars.id}}" name="{{item.vars.full_name}}" required="required" aria-describedby="{{item.vars.id}}"></label>
                    </div>
                {% endfor %}
            </div>
            #}

        </fieldset>
    </div>

    <div class="cell small-1 medium-1">
        {{ form_widget(userForm.grantedList) }}
    </div>

    <div class="cell small-12 medium-12">
        <a href="{{ path('app_admin_user_delete', {id: app.request.attributes.get('id')}) }}"><i class="fa fa-trash"></i> Delete User</a>
{# {{ form_widget(userForm.delete) }}#}
    </div>

</div>

<div class="grid-x grid-padding-y action-menu">
    <div class="cell">
        {{ form_widget(userForm.save) }}
        {{ form_widget(userForm.saveclose) }}
        {{ form_widget(userForm.close) }}
    </div>
</div>
<div style="visibility: hidden"> {{ form_rest(userForm) }}</div>
{{ form_end(userForm) }}
