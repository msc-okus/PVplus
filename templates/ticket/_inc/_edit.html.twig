<div class="grid-x" data-action="ticket-split:async:submitted->ticket-edit#reload">
    <div class="cell small-12 is-hidden"
         style="background-color: red"
         data-ticket-list-target="AlertFormat"
    >
        Error with the format of the date, it is
        quarter based.
    </div>
    <div class="cell small-12 is-hidden"
         style="background-color: red"
         data-ticket-list-target="AlertDates"
    >
        Error, end date ca not be before beginning
    </div>
    <div class="cell">
        {{ form_start(ticketForm) }}
        <div id="ticket-edit" class="grid-x">
            <div class="cell">
                <div class="content">
                    <fieldset class="fieldset">
                        <legend>Base Info</legend>
                        <div class="grid-x grid-margin-x grid-padding-x">
                            <div class="cell small-12 medium-3 large-2">
                                {{ form_row(ticketForm.anlage) }}
                            </div>
                            {% if (edited == false) %}
                                <div class="cell small-12 medium-3 large-2">
                                    <label>inverter</label>
                                    <input disabled type="text" value="*" >
                                </div>
                            {% endif %}
                            <div class="cell small-6 medium-3 large-2">
                                {{ form_row(ticketForm.begin) }}
                            </div>
                            <div class="cell small-6 medium-3 large-2">
                                {{ form_row(ticketForm.end) }}
                            </div>
                            <div class="cell small-6 large-1">
                                {{ form_row(ticketForm.status) }}
                            </div>
                            <div class="cell small-4 large-1">
                                {{ form_row(ticketForm.priority) }}
                            </div>
                            <div class="cell small-4 large-2"> {# category = alertType (bsp: datagap, inverter power, etc.) #}
                                {{ form_row(ticketForm.alertType) }}
                            </div>
                            <div class="cell small-4 large-2"> {# type = errorType (Bsp:  SFOR, EFOR, OMC) #}
                                {{ form_row(ticketForm.errorType) }}
                            </div>
                        </div>
                        {% if edited == true %}
                            {% include 'reporting/_inc/_ticketDatesList.html.twig' %}
                        {% endif %}
                    </fieldset>
                    {% if edited ==true %}
                        <fieldset class="fieldset">
                            <legend>Actions</legend>
                            <div class="grid-x grid-margin-x grid-padding-x">
                                {% if (ticket.alertType == 10) %}
                                    <div class="cell small-12 medium-4 large-2">
                                        {{ form_widget(ticketForm.dataGapEvaluation) }}
                                    </div>
                                {% else %}
                                    {% do ticketForm.dataGapEvaluation.setRendered() %}
                                {% endif %}
                            </div>
                        </fieldset>
                        <fieldset class="fieldset">
                            <legend>Descriptions</legend>
                            <div class="grid-x grid-margin-x grid-padding-x">
                                <div class="cell medium-12 small-12">
                                    {% if (edited == true) %}
                                        <div class="callout warning">{{ ticket.description|raw }}</div>
                                    {% endif %}
                                    {{ form_row(ticketForm.freeText) }}
                                    {{ form_row(ticketForm.answer) }}
                                </div>

                            </div>
                        </fieldset>

                        <div data-controller="hide">
                        <div class="switch tiny cell medium-3 small-6">
                            <label>Show effects on ...</label>
                            <input class="switch-input" id="exampleSwitch" type="checkbox" name="exampleSwitch"
                                   data-action="click->hide#change" data-hide-target="switch">
                            <label class="switch-paddle" for="exampleSwitch">
                                <span class="show-for-sr"></span>
                            </label>
                        </div>
                        <br class="clearfix">
                        <fieldset id="midiv" class="fieldset" data-hide-target="area">
                            <div class="grid-x grid-margin-x grid-padding-x">
                                <div class="cell small-12">
                                    <h4>This ticket effects on the following calculations:</h4>
                                    <table>
                                        <thead>
                                        <tr>
                                            <td>EPC</td>
                                            <td>O&M</td>
                                            <td>AM</td>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>{{ form_row(ticketForm.PR0) }}</td>
                                            <td>{{ form_row(ticketForm.PR1) }}</td>
                                            <td>{{ form_row(ticketForm.PR2) }}</td>
                                        </tr>
                                        <tr>
                                            <td>{{ form_row(ticketForm.PA0C5) }}</td>
                                            <td>{{ form_row(ticketForm.PA1C5) }}</td>
                                            <td>{{ form_row(ticketForm.PA2C5) }}</td>
                                        </tr>
                                        <tr>
                                            <td>{{ form_row(ticketForm.PA0C6) }}</td>
                                            <td>{{ form_row(ticketForm.PA1C6) }}</td>
                                            <td>{{ form_row(ticketForm.PA2C6) }}</td>
                                        </tr>
                                        <tr>
                                            <td>{{ form_row(ticketForm.Yield0) }}</td>
                                            <td>{{ form_row(ticketForm.Yield1) }}</td>
                                            <td>{{ form_row(ticketForm.Yield2) }}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
        <div style="visibility: hidden">{{ form_rest(ticketForm) }}</div>
        <input type="hidden" name="page" value="{{ page }}">
        {{ form_end(ticketForm) }}
    </div>
</div>
